<form class="{{cssClass}}" autocomplete="off">

  <span id="section-header-personaldetails">Personal Details</span>

  <header class="sheet-header" ondragstart="return false;" ondrop="return false;">
    <h1 class="charname">
      <input id="input-name" name="name" type="text" value="{{actor.name}}" placeholder="Character Name" />
      <span id="label-name">Name</span>
    </h1>

    <div class="item">
      <input id="input-species" name="data.details.species.value" type="text" value="{{data.details.species.value}}" placeholder="Species" />
      <span id="label-species">Species</span>
    </div>

    <div class="item">
      <input id="input-gender" name="data.details.gender.value" type="text" value="{{data.details.gender.value}}" placeholder="Gender" />
      <span id="label-gender">Gender</span>
    </div>
  </header>

  <section class="general" ondragstart="return false;" ondrop="return false;">
    <img class="charimg" src="{{actor.img}}" title="{{actor.name}}" height="95" width="95" data-edit="img">
    <div class="items">


      <div class="row">

        <div id="field-class" class="item">
          <input class="input-details" name="actor.currentClass" type="text" value="{{actor.currentClass}}" placeholder="Class"/>
          <span class="label-details" >Class</span>
        </div>

        <div id="field-career" class="item">
          <input class="input-details" name="actor.currentCareerGroup" type="text" value="{{actor.currentCareerGroup}}" placeholder="Career"/>
          <span class="label-details" >Career</span>
        </div>

        <div id="field-careerlevel" class="item">
          <input class="input-details" name="actor.currentCareer" type="text" value="{{actor.currentCareer}}" placeholder="Career Level" />
          <span class="label-details" >Career Level</span>
        </div>

        <div id="field-status" class="item">
          <input id="input-status" class="input-details" name="status" type="text" value="{{actor.status}}" placeholder="Status" />
          <span id="label-status" class="label-details" >Status</span>
        </div>

        <div id="field-age" class="item">
          <input class="input-details" name="data.details.age.value" type="text" value="{{data.details.age.value}}" placeholder="Age" />
          <span class="label-details" >Age<span>
        </div>

        <div  id="field-height" class="item">
          <input class="input-details" name="data.details.height.value" type="text" value="{{data.details.height.value}}" placeholder="Height" />
          <span class="label-details" >Height</span>
        </div>

        <div id="field-weight" class="item">
          <input class="input-details" name="data.details.weight.value" type="text" value="{{data.details.weight.value}}" placeholder="Weight" />
          <span class="label-details" >Weight</span>
        </div>

        <div id="field-haircolour" class="item">
          <input class="input-details" name="data.details.haircolour.value" type="text" value="{{data.details.haircolour.value}}" placeholder="Hair Colour" />
          <span class="label-details" >Hair Colour</span>
        </div>

        <div id="field-eyecolour" class="item">
          <input class="input-details" name="data.details.eyecolour.value" type="text" value="{{data.details.eyecolour.value}}" placeholder="Eye Colour" />
          <span class="label-details" >Eye Colour</span>
        </div>

        <div id="field-distinguishingmark" class="item">
          <input class="input-details" name="data.details.distinguishingmark.value" type="text" value="{{data.details.distinguishingmark.value}}" placeholder="Distinguishing Mark" />
          <span class="label-details" >Distinguishing Mark</span>
        </div>

        <div id="field-starsign" class="item">
          <input class="input-details" name="data.details.starsign.value" type="text" value="{{data.details.starsign.value}}" placeholder="Star Sign" />
          <span class="label-details" >Star Sign</span>
        </div>
      </div>


  </section>
  <!-- TABS -->
  <section id="tab-sections">
    <nav id="wfrp4e-primarytabs" class="sheet-tabs tabs" data-group="primary" ondragstart="return false;" ondrop="return false;">
      <button class="item active" data-tab="main">Main</button>
      <button class="item" data-tab="skills">Skills</button>
      <button class="item" data-tab="talents">Talents</button>
      <button class="item" data-tab="combat">Combat</button>
      <button class="item" data-tab="inventory">Trappings</button>
      {{#if actor.flags.hasSpells}}
      <button class="item" data-tab="magic">Magic</button>
      {{/if}}
      {{#if actor.flags.hasPrayers}}
      <button class="item" data-tab="religion">Religion</button>
      {{/if}}
      <button class="item" data-tab="notes">Notes</button>
   </nav>
   <div class = "tab main" data-tab="main" data-group="primary">
      {{> public/systems/wfrp4e/templates/actors/actor-main.html}}
   </div>
   <div class = "tab skills" data-tab="skills" data-group="primary">
      {{> public/systems/wfrp4e/templates/actors/actor-skills.html}}
   </div>
   <div class = "tab talents" data-tab="talents" data-group="primary">
      {{> public/systems/wfrp4e/templates/actors/actor-talents.html}}
   </div>
   <div class="tab combat" data-tab="combat" data-group="primary">
      {{> public/systems/wfrp4e/templates/actors/actor-combat.html}}
   </div>
   <div class="tab inventory" data-tab="inventory" data-group="primary">
      {{> public/systems/wfrp4e/templates/actors/actor-inventory.html}}
   </div>
   <div class="tab magic" data-tab="magic" data-group="primary">
       {{> public/systems/wfrp4e/templates/actors/actor-magic.html}}
    </div>
    <div class="tab religion" data-tab="religion" data-group="primary">
      {{> public/systems/wfrp4e/templates/actors/actor-religion.html}}
   </div>
   <div class = "tab notes" data-tab="notes" data-group="primary">
      {{> public/systems/wfrp4e/templates/actors/actor-notes.html}}
   </div>
</section>
</form>


<script>
  console.log("CHARACTER SHEET TOKEN BACKGROUND CHANGER!");
  textContainer = document.querySelectorAll('.character-sheet .window-title');
  console.log("textContainer");
  console.log(textContainer);
  length = textContainer.length;
  console.log(length);
  
  for (i = 0; i < length; i++) {
    console.log("textContainer[i]");
    console.log(textContainer[i]);
    console.log("textContainer[i].innerHTML");
    console.log(textContainer[i].innerHTML);

    if (textContainer[i].innerHTML.includes("[Token]")) {
      console.log("TRUE!");
      new_red = document.getElementsByClassName("character-sheet")[i].id;
      console.log(new_red);
      document.getElementById(new_red).className += " token-actor";
    } 
    else {
      console.log("FALSE!");
    }
  }

  console.log("CHARACTER SHEET TOKEN BACKGROUND CHANGER END!");
  // console.log(checkIfToken);
</script>